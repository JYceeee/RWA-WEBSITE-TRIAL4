# 状态检查分页功能说明

## 功能概述

为状态检查section添加了分页功能，每次只显示5条记录，提供完整的分页控件和导航功能。

## 新增功能

### 1. 分页数据管理

#### 分页相关变量
```javascript
// 状态检查分页相关
const statusCheckPage = ref(1)
const statusCheckPageSize = 5
```

#### 分页计算属性
```javascript
// 状态检查分页后的活动
const paginatedStatusActivities = computed(() => {
  const startIndex = (statusCheckPage.value - 1) * statusCheckPageSize
  const endIndex = startIndex + statusCheckPageSize
  return rightColumnActivities.value.slice(startIndex, endIndex)
})

// 状态检查总页数
const statusCheckTotalPages = computed(() => {
  return Math.ceil(rightColumnActivities.value.length / statusCheckPageSize)
})
```

### 2. 分页控制方法

#### 页面导航方法
```javascript
// 跳转到指定页面
function goToStatusPage(page) {
  if (page >= 1 && page <= statusCheckTotalPages.value) {
    statusCheckPage.value = page
    console.log(`📄 切换到状态检查第 ${page} 页`)
  }
}

// 下一页
function nextStatusPage() {
  if (statusCheckPage.value < statusCheckTotalPages.value) {
    statusCheckPage.value++
    console.log(`📄 状态检查下一页: ${statusCheckPage.value}`)
  }
}

// 上一页
function prevStatusPage() {
  if (statusCheckPage.value > 1) {
    statusCheckPage.value--
    console.log(`📄 状态检查上一页: ${statusCheckPage.value}`)
  }
}
```

### 3. 分页控件界面

#### HTML结构
```vue
<!-- 状态检查分页控件 -->
<div v-if="statusCheckTotalPages > 1" class="mm-status-pagination">
  <div class="mm-pagination-info">
    <span class="mm-pagination-text">
      第 {{ statusCheckPage }} 页，共 {{ statusCheckTotalPages }} 页
    </span>
    <span class="mm-pagination-count">
      ({{ rightColumnActivities.length }} 条记录)
    </span>
  </div>
  
  <div class="mm-pagination-controls">
    <button 
      class="mm-pagination-btn" 
      @click="prevStatusPage"
      :disabled="statusCheckPage <= 1"
    >
      ← 上一页
    </button>
    
    <div class="mm-pagination-pages">
      <button 
        v-for="page in statusCheckTotalPages" 
        :key="page"
        class="mm-pagination-page"
        :class="{ active: page === statusCheckPage }"
        @click="goToStatusPage(page)"
      >
        {{ page }}
      </button>
    </div>
    
    <button 
      class="mm-pagination-btn" 
      @click="nextStatusPage"
      :disabled="statusCheckPage >= statusCheckTotalPages"
    >
      下一页 →
    </button>
  </div>
</div>
```

### 4. 样式设计

#### 分页控件样式
```css
.mm-status-pagination {
  margin-top: 16px;
  padding: 16px;
  background: #141426;
  border: 1px solid #374151;
  border-radius: 8px;
}

.mm-pagination-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  font-size: 14px;
}

.mm-pagination-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.mm-pagination-btn {
  padding: 8px 16px;
  background: #374151;
  border: 1px solid #4b5563;
  border-radius: 6px;
  color: #ffffff;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.mm-pagination-page {
  width: 32px;
  height: 32px;
  background: #374151;
  border: 1px solid #4b5563;
  border-radius: 6px;
  color: #ffffff;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mm-pagination-page.active {
  background: #3b82f6;
  border-color: #3b82f6;
  color: #ffffff;
}
```

#### 移动端适配
```css
@media (max-width: 768px) {
  .mm-pagination-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }
  
  .mm-pagination-controls {
    flex-wrap: wrap;
    gap: 6px;
  }
  
  .mm-pagination-btn {
    flex: 1;
    min-width: 80px;
  }
  
  .mm-pagination-pages {
    flex-wrap: wrap;
    justify-content: center;
  }
}
```

## 功能特点

### 1. 智能分页
- **每页5条记录**：固定页面大小，便于浏览
- **自动计算页数**：根据总记录数自动计算总页数
- **智能显示**：只有超过1页时才显示分页控件

### 2. 完整导航
- **上一页/下一页**：便捷的翻页按钮
- **页码跳转**：直接点击页码跳转
- **状态显示**：当前页高亮显示
- **禁用状态**：边界按钮自动禁用

### 3. 信息展示
- **页面信息**：显示当前页和总页数
- **记录统计**：显示总记录数
- **实时更新**：数据变化时自动更新

### 4. 用户体验
- **响应式设计**：桌面端和移动端都有良好适配
- **视觉反馈**：悬停和激活状态的视觉反馈
- **操作便捷**：多种导航方式满足不同需求

## 技术实现

### 1. 数据分页
```javascript
// 分页逻辑
const startIndex = (statusCheckPage.value - 1) * statusCheckPageSize
const endIndex = startIndex + statusCheckPageSize
return rightColumnActivities.value.slice(startIndex, endIndex)
```

### 2. 状态管理
- 使用Vue 3的响应式系统
- 计算属性自动更新
- 状态变化实时反映到界面

### 3. 事件处理
- 点击事件处理页面跳转
- 边界检查防止无效操作
- 控制台日志提供调试信息

### 4. 样式系统
- 深色主题设计
- 响应式布局
- 平滑过渡动画

## 集成功能

### 1. 与Clear Status集成
- 清除活动后自动重置到第一页
- 保持分页状态的一致性

### 2. 与筛选功能集成
- 筛选结果自动分页
- 筛选变化时重置到第一页

### 3. 与自动刷新集成
- 数据刷新后保持当前页
- 分页状态在刷新后保持

## 使用场景

### 1. 大量状态检查记录
- 当状态检查记录超过5条时自动分页
- 提供便捷的导航和浏览体验

### 2. 性能优化
- 减少DOM渲染数量
- 提高页面响应速度

### 3. 用户体验
- 清晰的页面信息展示
- 直观的导航控件
- 响应式设计适配各种设备

## 总结

✅ **状态检查分页功能已完全实现**

- **每页5条记录**：固定页面大小，便于管理
- **完整分页控件**：上一页、下一页、页码跳转
- **智能显示**：只有多页时才显示分页控件
- **响应式设计**：桌面端和移动端都有良好适配
- **集成功能**：与清除、筛选、刷新功能完美集成

现在状态检查section支持分页浏览，用户可以方便地查看大量状态检查记录，同时保持良好的性能和用户体验！
